<html>

<head>
    <script src="https://aframe.io/releases/1.1.0/aframe.min.js"></script>
    <script>
        AFRAME.registerComponent('marker', {
            init: function () {
                var lastIndex = -1;
                const sky = document.querySelector('a-sky');

                var IMAGES = ['#sky0', '#sky1', '#sky2'];
                this.el.addEventListener('click', function (evt) {
                    lastIndex = (lastIndex + 1) % IMAGES.length;
                    sky.setAttribute('src', IMAGES[lastIndex]);
                    // window.open("https://www.github.com/Leguna");
                    console.log('I was clicked at: ', evt.detail.intersection.point);
                });
            }
        });

    </script>
</head>

<body>
    <a-scene cursor="rayOrigin: mouse">
        <a-assets>
            <img id="my-image" src="icon/avatar.jpg">
            <audio id="click-sound" crossorigin="anonymous"
                src="https://cdn.aframe.io/360-image-gallery-boilerplate/audio/click.ogg">
            </audio>

            <!-- Ganti sky -->
            <img id="sky0" src="images/el.jpg">
            <img id="sky1" src="images/city.jpg">
            <img id="sky2" src="images/land.jpg">
        </a-assets>




        <!-- Image -->
        <!-- <a-image position="0 0 -10" src="#my-image"
            event-set__enter="_event: click; _target: #bg; src: images/city.jpg"></a-image> -->
        <a-image position="0 0 -10" src="#my-image" marker;
            animation="property: rotation; to: 0 360 0; loop: true; dur: 10000"
            animation__mouseenter="property: components.material.material.color; type: color; to: grey; startEvents: mouseenter; dur: 500"
            animation__mouseleave="property: components.material.material.color; type: color; to: white; startEvents: mouseleave; dur: 500">
        </a-image>
        <a-image position="3 0 -10" src="#my-image" marker;
            animation__mouseenter="property: components.material.material.color; type: color; to: grey; startEvents: mouseenter; dur: 500"
            animation__mouseleave="property: components.material.material.color; type: color; to: white; startEvents: mouseleave; dur: 500">
        </a-image>
        <!-- Text -->
        <!-- <a-entity position="0 2.7 -10" rotation="0 0 0" text="value: Tekan Di sini; width:10;"></a-entity> -->

        <a-sky id="bg" src="images/el.jpg" rotation="0 115 0"></a-sky>



        <!-- Camera and Control -->
        <a-entity camera look-controls wasd-controls>
            <!-- <a-cursor color="lime"></a-cursor> -->
        </a-entity>
        <!-- <a-entity laser-controls="hand: left"></a-entity>
        <a-entity laser-controls="hand: right"></a-entity> -->

        <!-- <a-entity camera look-controls></a-entity> -->

    </a-scene>
</body>

</html>